<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Analiza Polygons</title>
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-sA+e2atLYeMzdgU0uZbP7Hf8QUpPG9UibXo9p3p3g1Y="
    crossorigin=""
  />
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.css"
  />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="hero">
    <div>
      <p class="eyebrow">Analiza Polygons</p>
      <h1>Mapa real de OpenStreetMap listo para capturar coordenadas</h1>
      <p class="lead">
        Dibuja puntos o polígonos directamente sobre un mapa embebido y copia las coordenadas con el formato que prefieras.
      </p>
      <div class="cta-row">
        <button id="copy-btn" class="primary">Copiar coordenadas</button>
        <button id="reset-btn" class="ghost">Limpiar mapa</button>
      </div>
    </div>
  </header>

  <main class="content">
    <section class="panel">
      <div class="panel-header">
        <div>
          <p class="eyebrow">Mapa base</p>
          <h2>Dibuja sobre OpenStreetMap</h2>
        </div>
        <span id="map-status" class="status"></span>
      </div>
      <div id="map" aria-label="Mapa de dibujo"></div>
      <div class="helper log-visual">
        <p><strong>Registro de mapa</strong></p>
        <div id="visual-log" class="log-entries" aria-live="polite"></div>
      </div>
      <div class="helper">
        <p><strong>Cómo usarlo</strong></p>
        <ol>
          <li>Haz clic en el mapa para crear puntos rápidos, o usa los controles para polígonos y marcadores.</li>
          <li>El panel inferior lista todas las geometrías con sus coordenadas.</li>
          <li>Copia el resultado y pégalo en tu flujo de trabajo.</li>
        </ol>
      </div>
    </section>

    <section class="panel">
      <header class="panel-header">
        <div>
          <p class="eyebrow">Exportación</p>
          <h2>Coordenadas generadas</h2>
        </div>
        <span id="copy-status" class="status"></span>
      </header>
      <pre id="output" aria-live="polite" class="output">Crea al menos un punto para ver sus coordenadas aquí.</pre>
    </section>
  </main>

  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-o9N1j7kGStb6QqH1jyfFSt8A1iXRu2EOw3kM3Xt5C3A="
    crossorigin=""
  ></script>
  <script src="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.js"></script>
  <script type="module" src="main.js"></script>
</body>
</html>
